{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "BOOKS_DB",
  "description": "Schema for the books database.",
  "type": "array",
  "items": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "title_es": {
        "type": "string",
        "description": "Normalized Spanish title."
      },
      "title_en": {
        "type": ["string", "null"],
        "description": "Normalized English title."
      },
      "title_orig": {
        "type": ["string", "null"],
        "description": "Original title (in its original language)."
      },
      "author": {
        "type": "string",
        "description": "Author."
      },
      "year": {
        "type": ["integer", "null"],
        "description": "Year written (approximate if unknown; use negative for BC)."
      },
      "pages": {
        "type": ["integer", "null"],
        "description": "Approximate page count."
      },
      "lang": {
        "type": ["string", "null"],
        "description": "Original language of the work (ISO 639-1, lowercase).",
        "pattern": "^[a-z]{2}$",
        "examples": ["es", "en", "fr", "de", "it"]
      },
      "url_openlibrary": {
        "type": ["string", "null"],
        "description": "Open Library work URL (use the canonical /works/ path).",
        "format": "uri",
        "pattern": "^https?://openlibrary\\.org/.*$"
      },
      "url_photo": {
        "type": ["string", "null"],
        "description": "URL to a cover image (Open Library cover or another stable host).",
        "format": "uri"
      },
      "difficulty": {
        "type": ["integer", "null"],
        "description": "Reading difficulty from 1 to 5.",
        "minimum": 1,
        "maximum": 5
      },
      "importance": {
        "type": ["integer", "null"],
        "description": "Importance or impact from 1 to 5 (e.g. canonical relevance or personal reading plan priority).",
        "minimum": 1,
        "maximum": 5
      },
      "genre": {
        "type": ["string", "null"],
        "description": "Genre."
      },
      "format": {
        "type": ["string", "null"],
        "description": "Literary form (structure), not genre.",
        "enum": ["prose", "poetry", "play", null]
      },
      "country": {
        "type": ["string", "null"],
        "description": "Country of origin (ISO 3166-1 alpha-2, uppercase).",
        "pattern": "^[A-Z]{2}$",
        "examples": ["ES", "FR", "US", "GB", "DE"]
      },
      "period": {
        "type": ["string", "null"],
        "description": "Literary period or era (e.g. Classical, Modernism)."
      },
      "tags": {
        "type": "array",
        "description": "Content tags; lowercase, singular, hyphen-separated words (e.g. coming-of-age, new-york).",
        "items": {
          "type": "string",
          "pattern": "^[a-z0-9]+(?:-[a-z0-9]+)*$"
        },
        "default": []
      }
    },
    "required": [
      "title_es",
      "author"
    ]
  }
}
